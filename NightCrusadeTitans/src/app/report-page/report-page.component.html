<body>
  <app-header></app-header>
  <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)">
    <fieldset class="d-grid gap-2 col-12">
      <input type="text" name="reporterName" placeholder="Reporter Name" formControlName="reporterName">
      <div class="requiredText">*Required</div>
      <input type="text" name="phoneNumber" placeholder="Reporter Phone Number" formControlName="phoneNumber">
      <div class="requiredText">*Required, 10 numbers long, numbers only</div>
      <input type="text" name="suspectName" placeholder="Name of The Suspect" formControlName="suspectName">
      <div class="requiredText">*Required</div>
      
      
      <div class="d-flex justify-content-between align-items-center">
        <label for="locationName">Location:</label>
        <button type="button" class="btn btn-primary btn-sm float-right" (click)="createNewLocation(mapContainer)">Create New Location</button>
      </div>
      <select name="locationName" placeholder="Location" formControlName="locationName">
        <option *ngFor="let location of locations" [value]="location.name">{{location.name}}</option>
      </select>
      <div class="requiredText">*Required</div>
      
      <div id="createLocation" *ngIf="createLocation" class="card p-3">
        <p>Select location on map:</p>
        <div #mapContainer style="height: 40vh; width: 100%; align-self: center;"></div>
        <div id="longlat">
          <input style="width: 50%;" type="number" name="longitude" placeholder="Longitude of The Location" formControlName="longitude" min="-180" max="180">
          <input style="width: 50%" type="number" name="latitude" placeholder="Latitude of The Location" formControlName="latitude" min="-90" max="90">
        </div>
      </div>

      <input type="text" name="picture" placeholder="URL to image" formControlName="picture" style="margin-top: 8px;">
      <input type="text" name="extraInfo" placeholder="Extra Information" formControlName="extraInfo">
    </fieldset>
    <button [disabled]="form.invalid">Submit</button>
  </form>
</body>